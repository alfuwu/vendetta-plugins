(function(n,i,c){"use strict";const a=window.bunny.api.react.jsx,u=new Map,h=i.findByName("useBadges",!1),t={"hyleus-badge-core":{id:"hyleus-badge-core",source:{uri:"https://alfuwu.github.io/Images/new%20hyleus%20hc%20shadowed.png"},label:"core of hyleus"},"hyleus-badge-pillar":{id:"hyleus-badge-pillar",source:{uri:"https://alfuwu.github.io/Images/new%20hyleus%20hc%20shadowed.png"},label:"pillar of hyleus"},"hyleus-badge-normal":{id:"hyleus-badge-normal",source:{uri:"https://alfuwu.github.io/Images/new%20hyleus%20hc%20shadowed.png"},label:"part of hyleus"},"hyleus-badge-servant":{id:"hyleus-badge-servant",source:{uri:"https://alfuwu.github.io/Images/new%20hyleus%20hc%20shadowed.png"},label:"servant of hyleus"}};let r;var d={onLoad:function(){g(),a.onJsxCreate("ProfileBadge",function(s,e){if(e.props.id?.startsWith("hyleus-")){const o=t[e.props.id];o&&(e.props.source=o.source,e.props.label=o.label,e.props.id=o.id)}}),a.onJsxCreate("RenderBadge",function(s,e){if(e.props.id?.startsWith("hyleus-")){const o=t[e.props.id];o&&Object.assign(e.props,o)}}),r=c.after("default",h,function([s],e){if(s===null){console.log("[hyleus] user is null, returning");return}console.log("[hyleus] trying to add badge..."),console.log("[hyleus] current cache: "+JSON.stringify(Object.fromEntries(u))),console.log(`[hyleus] cache has ${s.userId}: ${u.has(s.userId)}`),console.log("[hyleus]",s);const o=function(l){e.push(l)};if(u.has(s.userId)){const l=u.get(s.userId),y=l<0?"core of hyleus":l==0?"pillar of hyleus":l>=3?"servant of hyleus":"part of hyleus";console.log(`Adding Hyleus badge to ${s.username}`);const f=`hyleus-badge-${l<0?"core":l==0?"pillar":l>=3?"servant":"normal"}`;o({id:f,description:y,icon:"dummy"})}})},onUnload:function(){r?.()}};async function g(){console.log("[hyleus] populating cache");const s=await(await fetch("https://alfuwu.github.io/Images/hyleusians.json")).json();Object.entries(s).forEach(function([e,o]){u.set(e,o)}),console.log(JSON.stringify(Object.fromEntries(u)))}return n.default=d,Object.defineProperty(n,"__esModule",{value:!0}),n})({},vendetta.metro,vendetta.patcher);
